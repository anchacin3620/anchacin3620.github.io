<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen: Trabajo y Energía</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #fff;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .question {
            margin-bottom: 20px;
            padding: 15px;
            border-left: 4px solid #3498db;
            background-color: #f9f9f9;
        }
        .options label {
            display: block;
            padding: 8px;
            margin-bottom: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .options label:hover {
            background-color: #e8f4fc;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        button {
            background-color: #3498db;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            display: block;
            margin: 20px auto;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        #results {
            display: none;
            text-align: center;
            padding: 20px;
            background-color: #e8f4fc;
            border-radius: 5px;
            margin-top: 30px;
        }
        .score {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin: 20px 0;
        }
        .error {
            color: #e74c3c;
            font-size: 14px;
            margin-top: 5px;
        }
        .progress {
            margin-bottom: 20px;
            text-align: right;
            color: #7f8c8d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Examen: Trabajo y Energía</h1>
        
        <div id="user-info" class="section">
            <h2>Datos del Estudiante</h2>
            <div class="form-group">
                <label for="firstName">Nombre:</label>
                <input type="text" id="firstName" required>
            </div>
            <div class="form-group">
                <label for="lastName">Apellido:</label>
                <input type="text" id="lastName" required>
            </div>
            <div class="form-group">
                <label for="idNumber">Cédula Venezolana:</label>
                <input type="text" id="idNumber" required pattern="[VvEe]?\d{6,8}" title="Formato de cédula venezolana (V12345678 o E1234567)">
                <div class="error" id="idError"></div>
            </div>
            <button id="start-btn">Comenzar Examen</button>
        </div>
        
        <div id="quiz" class="section" style="display:none;">
            <div class="progress" id="progress">Pregunta 1 de 20</div>
            
            <form id="quiz-form">
                <!-- Preguntas generadas por JavaScript -->
            </form>
            
            <button id="submit-btn">Finalizar Examen</button>
        </div>
        
        <div id="results">
            <h2>Resultados del Examen</h2>
            <div id="student-info"></div>
            <div class="score" id="score"></div>
            <p>Por favor, realiza una captura de pantalla de estos resultados y envíala a tu profesor.</p>
            <button id="restart-btn">Realizar otro examen</button>
        </div>
    </div>

    <script>
        // Datos del examen - 20 preguntas sobre trabajo y energía
        const questions = [
            {
                question: "¿Qué es el trabajo en términos físicos?",
                options: [
                    "La fuerza aplicada sobre un objeto",
                    "El producto de la fuerza por la distancia recorrida en la dirección de la fuerza",
                    "La energía consumida por un objeto",
                    "La potencia multiplicada por el tiempo"
                ],
                answer: 1
            },
            {
                question: "La unidad de trabajo en el Sistema Internacional es:",
                options: [
                    "Newton",
                    "Vatio",
                    "Julio",
                    "Caloría"
                ],
                answer: 2
            },
            {
                question: "¿Cuál de estas afirmaciones sobre la energía cinética es correcta?",
                options: [
                    "Depende únicamente de la masa del objeto",
                    "Depende únicamente de la velocidad del objeto",
                    "Es siempre igual al trabajo realizado",
                    "Aumenta con el cuadrado de la velocidad"
                ],
                answer: 3
            },
            {
                question: "La energía potencial gravitatoria de un objeto depende de:",
                options: [
                    "Solo de su masa",
                    "Solo de su altura",
                    "Su masa y su altura",
                    "Su masa, altura y velocidad"
                ],
                answer: 2
            },
            {
                question: "El principio de conservación de la energía establece que:",
                options: [
                    "La energía total de un sistema aislado permanece constante",
                    "La energía cinética siempre se conserva",
                    "La energía potencial siempre se conserva",
                    "La energía no puede transformarse de un tipo a otro"
                ],
                answer: 0
            },
            {
                question: "¿Qué representa el área bajo la curva en un gráfico de fuerza versus desplazamiento?",
                options: [
                    "La potencia",
                    "La energía cinética",
                    "El trabajo realizado",
                    "La aceleración"
                ],
                answer: 2
            },
            {
                question: "Si se duplica la velocidad de un objeto, su energía cinética:",
                options: [
                    "Se duplica",
                    "Se reduce a la mitad",
                    "Se cuadruplica",
                    "Permanece igual"
                ],
                answer: 2
            },
            {
                question: "¿Qué tipo de energía está almacenada en un resorte comprimido?",
                options: [
                    "Energía cinética",
                    "Energía potencial elástica",
                    "Energía potencial gravitatoria",
                    "Energía térmica"
                ],
                answer: 1
            },
            {
                question: "La potencia se define como:",
                options: [
                    "La capacidad para realizar trabajo",
                    "La fuerza por unidad de tiempo",
                    "El trabajo realizado por unidad de tiempo",
                    "La energía almacenada por unidad de volumen"
                ],
                answer: 2
            },
            {
                question: "Un joule es equivalente a:",
                options: [
                    "1 N·m",
                    "1 kg·m/s",
                    "1 kg·m²/s²",
                    "1 N/s"
                ],
                answer: 0
            },
            {
                question: "¿En cuál de estas situaciones se realiza trabajo sobre el objeto?",
                options: [
                    "Sostener un objeto pesado sin moverlo",
                    "Empujar una pared sin lograr moverla",
                    "Caminar horizontalmente con un objeto a altura constante",
                    "Levantar un objeto del suelo"
                ],
                answer: 3
            },
            {
                question: "La energía mecánica total de un sistema es:",
                options: [
                    "Siempre constante",
                    "La suma de energía cinética y potencial",
                    "Solo la energía cinética",
                    "Solo la energía potencial"
                ],
                answer: 1
            },
            {
                question: "Si no hay fricción, la energía mecánica total de un sistema:",
                options: [
                    "Aumenta constantemente",
                    "Disminuye constantemente",
                    "Permanece constante",
                    "Varía aleatoriamente"
                ],
                answer: 2
            },
            {
                question: "¿Cuál es la fórmula para calcular la energía cinética?",
                options: [
                    "Ec = m·g·h",
                    "Ec = ½ m·v²",
                    "Ec = F·d",
                    "Ec = P·t"
                ],
                answer: 1
            },
            {
                question: "La energía potencial gravitatoria cerca de la superficie terrestre se calcula como:",
                options: [
                    "Ep = m·v²",
                    "Ep = m·g·h",
                    "Ep = ½ k·x²",
                    "Ep = F·d"
                ],
                answer: 1
            },
            {
                question: "Un objeto de 2 kg se eleva a 5 m de altura. ¿Cuál es su energía potencial? (g=10 m/s²)",
                options: [
                    "10 J",
                    "50 J",
                    "100 J",
                    "200 J"
                ],
                answer: 2
            },
            {
                question: "Si se realiza el mismo trabajo en menos tiempo:",
                options: [
                    "La energía utilizada es menor",
                    "La potencia es mayor",
                    "La potencia es menor",
                    "La fuerza aplicada es menor"
                ],
                answer: 1
            },
            {
                question: "La ley de conservación de la energía implica que:",
                options: [
                    "La energía no puede crearse ni destruirse, solo transformarse",
                    "La energía total de un sistema siempre aumenta",
                    "La energía potencial siempre se convierte en cinética",
                    "La energía cinética siempre se conserva"
                ],
                answer: 0
            },
            {
                question: "¿Qué fuerza NO conservativa disipa comúnmente la energía mecánica?",
                options: [
                    "Fuerza gravitatoria",
                    "Fuerza elástica",
                    "Fuerza de fricción",
                    "Fuerza electromagnética"
                ],
                answer: 2
            },
            {
                question: "La eficiencia de una máquina simple es una medida de:",
                options: [
                    "La potencia que puede generar",
                    "La relación entre trabajo útil y trabajo total",
                    "La velocidad con que realiza el trabajo",
                    "La fuerza máxima que puede aplicar"
                ],
                answer: 1
            }
        ];

        // Variables globales
        let currentQuestion = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let userData = {};

        // Elementos DOM
        const userInfoSection = document.getElementById('user-info');
        const quizSection = document.getElementById('quiz');
        const resultsSection = document.getElementById('results');
        const quizForm = document.getElementById('quiz-form');
        const progressText = document.getElementById('progress');
        const startBtn = document.getElementById('start-btn');
        const submitBtn = document.getElementById('submit-btn');
        const restartBtn = document.getElementById('restart-btn');
        const idNumberInput = document.getElementById('idNumber');
        const idError = document.getElementById('idError');

        // Validar cédula venezolana
        function validateVenezuelanId(id) {
            // Eliminar posibles espacios y convertir a mayúsculas
            id = id.trim().toUpperCase();
            
            // Patrón: V o E seguido de 6 a 8 dígitos, o solo 6 a 8 dígitos
            const pattern = /^([VE]?\d{6,8})$/;
            
            if (!pattern.test(id)) {
                idError.textContent = "Formato inválido. Use V12345678 o E1234567";
                return false;
            }
            
            idError.textContent = "";
            return true;
        }

        // Iniciar el examen
        startBtn.addEventListener('click', () => {
            const firstName = document.getElementById('firstName').value.trim();
            const lastName = document.getElementById('lastName').value.trim();
            const idNumber = idNumberInput.value.trim();
            
            if (!firstName || !lastName || !idNumber) {
                alert('Por favor, complete todos los campos');
                return;
            }
            
            if (!validateVenezuelanId(idNumber)) {
                return;
            }
            
            // Guardar datos del usuario
            userData = {
                firstName,
                lastName,
                idNumber
            };
            
            // Ocultar sección de información y mostrar examen
            userInfoSection.style.display = 'none';
            quizSection.style.display = 'block';
            
            // Cargar la primera pregunta
            showQuestion(currentQuestion);
        });

        // Mostrar pregunta
        function showQuestion(index) {
            // Actualizar barra de progreso
            progressText.textContent = `Pregunta ${index + 1} de ${questions.length}`;
            
            // Limpiar formulario
            quizForm.innerHTML = '';
            
            // Obtener pregunta actual
            const question = questions[index];
            
            // Crear elemento de pregunta
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question';
            questionDiv.innerHTML = `<h3>${question.question}</h3>`;
            
            // Crear opciones de respuesta
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options';
            
            question.options.forEach((option, i) => {
                const label = document.createElement('label');
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = 'answer';
                input.value = i;
                
                // Marcar opción si ya fue seleccionada
                if (userAnswers[index] === i) {
                    input.checked = true;
                }
                
                // Guardar respuesta al seleccionar
                input.addEventListener('change', () => {
                    userAnswers[index] = parseInt(input.value);
                });
                
                label.appendChild(input);
                label.appendChild(document.createTextNode(option));
                optionsDiv.appendChild(label);
            });
            
            questionDiv.appendChild(optionsDiv);
            quizForm.appendChild(questionDiv);
            
            // Crear botones de navegación
            const navDiv = document.createElement('div');
            navDiv.style.display = 'flex';
            navDiv.style.justifyContent = 'space-between';
            navDiv.style.marginTop = '20px';
            
            if (index > 0) {
                const prevBtn = document.createElement('button');
                prevBtn.textContent = 'Anterior';
                prevBtn.type = 'button';
                prevBtn.addEventListener('click', () => {
                    showQuestion(currentQuestion - 1);
                });
                navDiv.appendChild(prevBtn);
            } else {
                navDiv.appendChild(document.createElement('div')); // Espaciador
            }
            
            if (index < questions.length - 1) {
                const nextBtn = document.createElement('button');
                nextBtn.textContent = 'Siguiente';
                nextBtn.type = 'button';
                nextBtn.addEventListener('click', () => {
                    showQuestion(currentQuestion + 1);
                });
                navDiv.appendChild(nextBtn);
            } else {
                navDiv.appendChild(document.createElement('div')); // Espaciador
            }
            
            quizForm.appendChild(navDiv);
            
            // Actualizar pregunta actual
            currentQuestion = index;
        }

        // Finalizar examen y calcular puntuación
        submitBtn.addEventListener('click', () => {
            // Verificar que todas las preguntas estén respondidas
            const unanswered = userAnswers.filter(answer => answer === null).length;
            
            if (unanswered > 0) {
                if (!confirm(`Tienes ${unanswered} pregunta(s) sin responder. ¿Estás seguro de que quieres finalizar?`)) {
                    return;
                }
            }
            
            // Calcular puntuación
            let score = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === questions[index].answer) {
                    score++;
                }
            });
            
            // Guardar resultados en localStorage
            const results = {
                ...userData,
                score,
                total: questions.length,
                date: new Date().toLocaleString()
            };
            
            localStorage.setItem('examResults', JSON.stringify(results));
            
            // Mostrar resultados
            document.getElementById('student-info').textContent = 
                `Estudiante: ${userData.firstName} ${userData.lastName} - Cédula: ${userData.idNumber}`;
            
            document.getElementById('score').textContent = 
                `Calificación: ${score} / ${questions.length}`;
            
            // Ocultar examen y mostrar resultados
            quizSection.style.display = 'none';
            resultsSection.style.display = 'block';
        });

        // Reiniciar examen
        restartBtn.addEventListener('click', () => {
            // Reiniciar variables
            currentQuestion = 0;
            userAnswers = new Array(questions.length).fill(null);
            userData = {};
            
            // Limpiar formularios
            document.getElementById('firstName').value = '';
            document.getElementById('lastName').value = '';
            idNumberInput.value = '';
            idError.textContent = '';
            
            // Mostrar sección de información y ocultar demás
            userInfoSection.style.display = 'block';
            quizSection.style.display = 'none';
            resultsSection.style.display = 'none';
        });

        // Validar cédula mientras se escribe
        idNumberInput.addEventListener('input', () => {
            validateVenezuelanId(idNumberInput.value);
        });
    </script>
</body>
</html>
